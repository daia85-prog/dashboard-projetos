<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Alertas & Projetos v8</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;padding:20px}
.container{max-width:1400px;margin:0 auto;background:#fff;border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,.2);overflow:hidden}
.header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px 25px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}
.header h1{font-size:1.4em}
.nav-buttons{display:flex;gap:8px}
.nav-btn{padding:9px 16px;border:none;border-radius:6px;font-weight:600;text-decoration:none;color:#fff}
.nav-btn.blue{background:#3b82f6}
.nav-btn.purple{background:#8b5cf6}
.nav-btn.green{background:#22c55e}
.content{padding:20px 25px}
.kpis-row{display:grid;grid-template-columns:repeat(5,1fr) 160px 160px;gap:12px;margin-bottom:20px}
@media(max-width:1100px){.kpis-row{grid-template-columns:repeat(5,1fr)}.side-card{margin-top:12px}}
.kpi{text-align:center;padding:15px 10px;border-radius:10px;cursor:pointer;color:#fff;transition:all .2s}
.kpi:hover{transform:translateY(-2px)}
.kpi.azul{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}
.kpi.verde{background:linear-gradient(135deg,#22c55e,#16a34a)}
.kpi.amarelo{background:linear-gradient(135deg,#f59e0b,#d97706)}
.kpi.roxo{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}
.kpi.vermelho{background:linear-gradient(135deg,#ef4444,#dc2626)}
.kpi .num{font-size:2em;font-weight:700}
.kpi .lbl{font-size:.78em;opacity:.95}
.side-card{background:#f8fafc;border-radius:10px;padding:12px 15px;border:1px solid #e2e8f0}
.side-card h4{font-size:.8em;color:#64748b;margin-bottom:8px}
.side-item{display:flex;justify-content:space-between;padding:6px 10px;border-radius:6px;font-size:.85em;cursor:pointer;margin-bottom:4px;font-weight:500}
.side-item:hover{transform:translateX(3px)}
.side-item.alta{background:#fef2f2;color:#dc2626}
.side-item.media{background:#fffbeb;color:#b45309}
.side-item.baixa{background:#f0fdf4;color:#16a34a}
.side-item.pmo{background:#f1f5f9;color:#475569}
.side-item .count{font-weight:700}
.alerts-section{margin-bottom:20px}
.alert-header{padding:12px 18px;border-radius:10px 10px 0 0;color:#fff;font-weight:600;display:flex;justify-content:space-between;flex-wrap:wrap}
.alert-header.douglas{background:linear-gradient(135deg,#1e293b,#334155)}
.alert-header.daiana{background:linear-gradient(135deg,#ea580c,#c2410c)}
.alert-header small{opacity:.85;font-weight:400}
.alert-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;padding:15px;background:#f8fafc;border-radius:0 0 10px 10px;border:1px solid #e2e8f0;border-top:none}
.alert-card{background:#fff;border-radius:8px;overflow:hidden}
.alert-card-head{padding:10px 12px;color:#fff;font-weight:600;font-size:.85em;display:flex;justify-content:space-between}
.alert-card-head.vermelho{background:#ef4444}
.alert-card-head.amarelo{background:#f59e0b}
.alert-card-head.cinza{background:#64748b}
.alert-card-head.roxo{background:#8b5cf6}
.alert-card-head .badge{background:rgba(255,255,255,.25);padding:2px 8px;border-radius:10px}
.alert-card-body{padding:10px;max-height:150px;overflow-y:auto}
.alert-proj{padding:6px 10px;margin-bottom:4px;border-radius:6px;font-size:.85em;cursor:pointer;display:flex;justify-content:space-between;font-weight:500}
.alert-proj:hover{transform:translateX(3px)}
.alert-proj.vermelho{background:#fef2f2;color:#dc2626}
.alert-proj.amarelo{background:#fffbeb;color:#92400e}
.alert-proj.cinza{background:#f1f5f9;color:#64748b}
.alert-proj.roxo{background:#f5f3ff;color:#6d28d9}
.alert-proj .dias{font-size:.8em;opacity:.8}
.alert-empty{color:#94a3b8;font-size:.85em;padding:15px;text-align:center}
.filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-bottom:18px;padding:15px;background:#f8fafc;border-radius:10px}
.filter-group label{display:block;font-size:.78em;color:#64748b;margin-bottom:4px}
.filter-group input,.filter-group select{width:100%;padding:8px 10px;border:1px solid #e2e8f0;border-radius:6px;font-size:.9em}
.btn-limpar{padding:8px 14px;background:#ef4444;color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:600}
.projects{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:15px}
.project-card{background:#fff;border:1px solid #e2e8f0;border-radius:10px;padding:15px;cursor:pointer;transition:all .2s;border-left:4px solid #e2e8f0}
.project-card:hover{box-shadow:0 5px 20px rgba(0,0,0,.1);transform:translateY(-2px)}
.project-card.verde{border-left-color:#22c55e}
.project-card.amarelo{border-left-color:#f59e0b}
.project-card.vermelho{border-left-color:#ef4444}
.project-header{display:flex;justify-content:space-between;margin-bottom:8px}
.project-name{font-weight:700;color:#1e293b}
.priority{padding:3px 8px;border-radius:4px;font-size:.7em;font-weight:700}
.priority.alta{background:#fee2e2;color:#dc2626}
.priority.media{background:#fef3c7;color:#d97706}
.priority.baixa{background:#dcfce7;color:#16a34a}
.project-meta{display:flex;gap:12px;font-size:.82em;color:#64748b;margin-bottom:8px}
.project-phase{background:#eff6ff;color:#1d4ed8;padding:5px 10px;border-radius:6px;font-size:.8em;margin-bottom:8px;display:inline-block}
.progress{margin-bottom:10px}
.progress-header{display:flex;justify-content:space-between;font-size:.85em;margin-bottom:4px}
.progress-bar{height:6px;background:#e2e8f0;border-radius:3px}
.progress-fill{height:100%;border-radius:3px}
.progress-fill.verde{background:#22c55e}
.progress-fill.amarelo{background:#f59e0b}
.progress-fill.vermelho{background:#ef4444}
.project-footer{display:flex;justify-content:space-between;align-items:center}
.status-badge{padding:4px 10px;border-radius:5px;font-size:.75em;font-weight:600}
.status-badge.concluido{background:#dcfce7;color:#166534}
.status-badge.em-andamento{background:#dbeafe;color:#1e40af}
.status-badge.planejamento{background:#f3e8ff;color:#7c3aed}
.status-badge.atrasado{background:#fee2e2;color:#991b1b}
.go-live-info{font-size:.8em;color:#64748b}
.go-live-info.atrasado{color:#dc2626;font-weight:600}
.go-live-info.proximo{color:#d97706;font-weight:600}
.modal-bg{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1000;justify-content:center;align-items:center;padding:20px}
.modal-bg.show{display:flex}
.modal{background:#fff;border-radius:12px;max-width:600px;width:100%;max-height:80vh;overflow:hidden}
.modal-head{background:#667eea;color:#fff;padding:15px 20px;display:flex;justify-content:space-between}
.modal-close{background:rgba(255,255,255,.2);border:none;color:#fff;width:32px;height:32px;border-radius:50%;cursor:pointer;font-size:1.3em}
.modal-body{padding:20px;overflow-y:auto}
.modal-info{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:15px}
.modal-info-item .label{color:#64748b;font-size:.8em}
.modal-info-item .value{color:#1e293b;font-weight:600}
.modal-obs{background:#f8fafc;padding:12px;border-radius:8px;border-left:4px solid #667eea}
.modal-obs strong{color:#64748b;font-size:.85em}
.footer{text-align:center;padding:15px;background:#f8fafc;border-top:1px solid #e2e8f0;font-size:.8em;color:#64748b}
</style>
</head>
<body>
<div class="container">
<header class="header">
<h1>üìä Alertas & Projetos v8</h1>
<nav class="nav-buttons">
<a href="index.html" class="nav-btn blue">üè† Executiva</a>
<a href="view-detalhada.html" class="nav-btn purple">üìã Detalhada</a>
<a href="admin.html" class="nav-btn green">‚öôÔ∏è Admin</a>
</nav>
</header>
<main class="content">
<div class="kpis-row">
<div class="kpi azul" onclick="filtrarStatus('')"><div class="num" id="kpiTotal">30</div><div class="lbl">Total</div></div>
<div class="kpi verde" onclick="filtrarStatus('Conclu√≠do')"><div class="num" id="kpiConcluidos">12</div><div class="lbl">Conclu√≠dos</div></div>
<div class="kpi amarelo" onclick="filtrarStatus('Em andamento')"><div class="num" id="kpiAndamento">11</div><div class="lbl">Em Andamento</div></div>
<div class="kpi roxo" onclick="filtrarStatus('Planejamento')"><div class="num" id="kpiPlanejamento">6</div><div class="lbl">Planejamento</div></div>
<div class="kpi vermelho" onclick="filtrarStatus('Atrasado')"><div class="num" id="kpiAtrasados">1</div><div class="lbl">Atrasados</div></div>
<div class="side-card"><h4>‚ö° Prioridade</h4><div id="prioridadeItems"></div></div>
<div class="side-card"><h4>üë§ PMO</h4><div id="pmoItems"></div></div>
</div>
<div class="alerts-section">
<div class="alert-header douglas"><span>üéØ ALERTAS GO LIVE (Douglas)</span><small>Baseado na DATA do Go Live</small></div>
<div class="alert-cards" id="alertasGoLive"></div>
</div>
<div class="alerts-section">
<div class="alert-header daiana"><span>üîß ALERTAS INFRA (Daiana)</span><small>Baseado no STATUS do trabalho</small></div>
<div class="alert-cards" id="alertasInfra"></div>
</div>
<div class="filters">
<div class="filter-group"><label>üîç Buscar</label><input type="text" id="filtroNome" oninput="renderProjetos()"></div>
<div class="filter-group"><label>üìä Status</label><select id="filtroStatus" onchange="renderProjetos()"><option value="">Todos</option><option value="Conclu√≠do">Conclu√≠do</option><option value="Em andamento">Em andamento</option><option value="Planejamento">Planejamento</option><option value="Atrasado">Atrasado</option></select></div>
<div class="filter-group"><label>‚ö° Prioridade</label><select id="filtroPrioridade" onchange="renderProjetos()"><option value="">Todas</option><option value="Alta">Alta</option><option value="M√©dia">M√©dia</option><option value="Baixa">Baixa</option></select></div>
<div class="filter-group"><label>üë§ PMO</label><select id="filtroPMO" onchange="renderProjetos()"><option value="">Todos</option><option>ALEX</option><option>ANDERSON</option><option>F√ÅBIO</option><option>GIOVANNI</option><option>LEANDRO</option><option>VINICIUS</option></select></div>
<div class="filter-group"><label>&nbsp;</label><button class="btn-limpar" onclick="limparFiltros()">üóëÔ∏è Limpar</button></div>
</div>
<div class="projects" id="projetosGrid"></div>
</main>
<footer class="footer">Alertas & Projetos v8 | Invent Corp | 30 Projetos</footer>
</div>
<div class="modal-bg" id="modal" onclick="fecharModal()">
<div class="modal" onclick="event.stopPropagation()">
<div class="modal-head"><h2 id="modalTitle">Projeto</h2><button class="modal-close" onclick="fecharModal()">√ó</button></div>
<div class="modal-body" id="modalBody"></div>
</div>
</div>
<script>
const PROJETOS=[
{nome:"BARBECUE B2B",status:"Conclu√≠do",local:"S√£o Paulo - SP",prioridade:"Alta",pmo:"ALEX",goLive:"2026-02-06",obs:"Acompanhamento Assistido",fase:"8. Encerramento",progresso:100},
{nome:"BELEZA",status:"Conclu√≠do",local:"S√£o Paulo - SP",prioridade:"M√©dia",pmo:"ANDERSON",goLive:"2025-11-30",obs:"Projeto finalizado",fase:"8. Encerramento",progresso:100},
{nome:"BETA",status:"Conclu√≠do",local:"Rio de Janeiro - RJ",prioridade:"Alta",pmo:"ANDERSON",goLive:"2026-03-10",obs:"Go Live realizado",fase:"8. Encerramento",progresso:100},
{nome:"BETA ESTEIO",status:"Planejamento",local:"Esteio - RS",prioridade:"M√©dia",pmo:"ANDERSON",goLive:"2026-08-17",obs:"Kickoff realizado 16/01",fase:"1. Inicia√ß√£o",progresso:5},
{nome:"BP",status:"Em andamento",local:"S√£o Paulo - SP",prioridade:"M√©dia",pmo:"GIOVANNI",goLive:"2026-06-23",obs:"Aguardando escopo",fase:"2. Planejamento",progresso:15},
{nome:"BR",status:"Planejamento",local:"Jaboat√£o - PE",prioridade:"Alta",pmo:"F√ÅBIO",goLive:"",obs:"Aguardando Kickoff",fase:"1. Inicia√ß√£o",progresso:5},
{nome:"CANDELABRIA",status:"Conclu√≠do",local:"Candel√°ria - RS",prioridade:"M√©dia",pmo:"ALEX",goLive:"2025-12-09",obs:"Go Live 09/12",fase:"8. Encerramento",progresso:100},
{nome:"CDSK",status:"Em andamento",local:"S√£o Paulo - SP",prioridade:"Alta",pmo:"VINICIUS",goLive:"2026-02-10",obs:"Go Live Fase 1",fase:"6. Deploy",progresso:75},
{nome:"COUGAR",status:"Conclu√≠do",local:"S√£o Paulo - SP",prioridade:"Alta",pmo:"LEANDRO",goLive:"2026-02-09",obs:"Go Live B2B 09/02",fase:"8. Encerramento",progresso:100},
{nome:"CRISTAL MG RETROFIT",status:"Em andamento",local:"Belo Horizonte - MG",prioridade:"Alta",pmo:"GIOVANNI",goLive:"",obs:"Revis√£o de escopo",fase:"2. Planejamento",progresso:15},
{nome:"DIA",status:"Atrasado",local:"S√£o Paulo - SP",prioridade:"Alta",pmo:"ANDERSON",goLive:"2026-01-20",obs:"ATEN√á√ÉO: VPN pendente",fase:"3. Provisionamento",progresso:30},
{nome:"DIAMANTE",status:"Planejamento",local:"Curitiba - PR",prioridade:"M√©dia",pmo:"F√ÅBIO",goLive:"2026-07-30",obs:"Novo projeto",fase:"1. Inicia√ß√£o",progresso:0},
{nome:"ELETRO",status:"Em andamento",local:"S√£o Paulo - SP",prioridade:"M√©dia",pmo:"GIOVANNI",goLive:"2026-04-20",obs:"Implementa√ß√£o",fase:"4. Implementa√ß√£o",progresso:35},
{nome:"ESPERAN√áA",status:"Conclu√≠do",local:"Belo Horizonte - MG",prioridade:"M√©dia",pmo:"VINICIUS",goLive:"2026-01-19",obs:"Go Live 19/01",fase:"8. Encerramento",progresso:100},
{nome:"FLOWER",status:"Em andamento",local:"S√£o Paulo - SP",prioridade:"Baixa",pmo:"ANDERSON",goLive:"2026-09-30",obs:"Avalia√ß√£o conceitual",fase:"2. Planejamento",progresso:10},
{nome:"GAVI√ÉO",status:"Conclu√≠do",local:"Fortaleza - CE",prioridade:"Alta",pmo:"F√ÅBIO",goLive:"2026-02-01",obs:"Go Live realizado",fase:"8. Encerramento",progresso:100},
{nome:"MKT CHILE",status:"Planejamento",local:"Santiago - Chile",prioridade:"M√©dia",pmo:"ALEX",goLive:"2026-12-01",obs:"Aguardando Kickoff",fase:"1. Inicia√ß√£o",progresso:0},
{nome:"MKT PERU",status:"Planejamento",local:"Lima - Peru",prioridade:"M√©dia",pmo:"ALEX",goLive:"2026-12-01",obs:"Aguardando pedido",fase:"1. Inicia√ß√£o",progresso:0},
{nome:"MASTER",status:"Planejamento",local:"S√£o Paulo - SP",prioridade:"Alta",pmo:"LEANDRO",goLive:"",obs:"Aguardando requisitos",fase:"1. Inicia√ß√£o",progresso:0},
{nome:"NAVEPARK",status:"Em andamento",local:"Curitiba - PR",prioridade:"M√©dia",pmo:"ANDERSON",goLive:"2026-06-23",obs:"Aguardando sinal",fase:"3. Provisionamento",progresso:25},
{nome:"OCTOPUS MS",status:"Em andamento",local:"Campo Grande - MS",prioridade:"M√©dia",pmo:"ALEX",goLive:"2026-05-26",obs:"Go Live 15/06",fase:"4. Implementa√ß√£o",progresso:40},
{nome:"OCTOPUS SC",status:"Conclu√≠do",local:"Florian√≥polis - SC",prioridade:"M√©dia",pmo:"ALEX",goLive:"2025-12-15",obs:"Finalizado",fase:"8. Encerramento",progresso:100},
{nome:"OPTIMUS PRIME",status:"Conclu√≠do",local:"S√£o Paulo - SP",prioridade:"Alta",pmo:"GIOVANNI",goLive:"2025-10-27",obs:"Assistido OK",fase:"8. Encerramento",progresso:100},
{nome:"PBL GUATEMALA",status:"Em andamento",local:"Guatemala City",prioridade:"Alta",pmo:"F√ÅBIO",goLive:"2026-05-15",obs:"Internacional",fase:"4. Implementa√ß√£o",progresso:45},
{nome:"PROMO B2B CD GRU",status:"Conclu√≠do",local:"Guarulhos - SP",prioridade:"Alta",pmo:"LEANDRO",goLive:"2026-02-04",obs:"Go Live IA 04/02",fase:"8. Encerramento",progresso:100},
{nome:"PTL SP",status:"Conclu√≠do",local:"S√£o Paulo - SP",prioridade:"M√©dia",pmo:"VINICIUS",goLive:"2025-10-30",obs:"Finalizado",fase:"8. Encerramento",progresso:100},
{nome:"REISADO",status:"Conclu√≠do",local:"Recife - PE",prioridade:"M√©dia",pmo:"F√ÅBIO",goLive:"2025-12-20",obs:"Finalizado",fase:"8. Encerramento",progresso:100},
{nome:"REVERSE",status:"Em andamento",local:"S√£o Paulo - SP",prioridade:"Alta",pmo:"ALEX",goLive:"2026-03-15",obs:"Fase de testes",fase:"5. Testes",progresso:55},
{nome:"SUPER DIVINOPOLIS",status:"Em andamento",local:"Divin√≥polis - MG",prioridade:"M√©dia",pmo:"GIOVANNI",goLive:"2026-02-28",obs:"Implementa√ß√£o",fase:"4. Implementa√ß√£o",progresso:50},
{nome:"TITANIO",status:"Em andamento",local:"S√£o Paulo - SP",prioridade:"Alta",pmo:"ALEX",goLive:"2026-02-15",obs:"Estabiliza√ß√£o",fase:"7. Estabiliza√ß√£o",progresso:80}
];
const hoje=new Date();hoje.setHours(0,0,0,0);
function calcDiasGoLive(gl){if(!gl)return null;const[y,m,d]=gl.split("-").map(Number);return Math.round((new Date(y,m-1,d)-hoje)/86400000)}
function getAlertaGoLive(p){if(!p.goLive)return{tipo:"pendente",dias:null};const dias=calcDiasGoLive(p.goLive);if(dias<0)return{tipo:"atrasado",dias};if(dias<=30)return{tipo:"proximo",dias};return{tipo:"ok",dias}}
function getCorProgresso(p){return p>=80?"verde":p>=40?"amarelo":"vermelho"}
function formatDate(s){if(!s)return"-";const[y,m,d]=s.split("-");return`${d}/${m}/${y}`}
function getStatusClass(s){return s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ /g,"-")}
function renderKPIs(){
document.getElementById("kpiTotal").textContent=PROJETOS.length;
document.getElementById("kpiConcluidos").textContent=PROJETOS.filter(p=>p.status==="Conclu√≠do").length;
document.getElementById("kpiAndamento").textContent=PROJETOS.filter(p=>p.status==="Em andamento").length;
document.getElementById("kpiPlanejamento").textContent=PROJETOS.filter(p=>p.status==="Planejamento").length;
document.getElementById("kpiAtrasados").textContent=PROJETOS.filter(p=>p.status==="Atrasado").length;
}
function renderPrioridade(){
document.getElementById("prioridadeItems").innerHTML=`
<div class="side-item alta" onclick="filtrarPrioridade('Alta')"><span>Alta</span><span class="count">${PROJETOS.filter(p=>p.prioridade==="Alta").length}</span></div>
<div class="side-item media" onclick="filtrarPrioridade('M√©dia')"><span>M√©dia</span><span class="count">${PROJETOS.filter(p=>p.prioridade==="M√©dia").length}</span></div>
<div class="side-item baixa" onclick="filtrarPrioridade('Baixa')"><span>Baixa</span><span class="count">${PROJETOS.filter(p=>p.prioridade==="Baixa").length}</span></div>`;
}
function renderPMO(){
const pmos=["ALEX","ANDERSON","F√ÅBIO","GIOVANNI","LEANDRO","VINICIUS"];
document.getElementById("pmoItems").innerHTML=pmos.map(pmo=>`<div class="side-item pmo" onclick="filtrarPMO('${pmo}')"><span>${pmo}</span><span class="count">${PROJETOS.filter(p=>p.pmo===pmo).length}</span></div>`).join("");
}
function renderAlertasGoLive(){
const nc=PROJETOS.filter(p=>p.status!=="Conclu√≠do");
const atrasados=nc.filter(p=>getAlertaGoLive(p).tipo==="atrasado");
const proximos=nc.filter(p=>getAlertaGoLive(p).tipo==="proximo");
const pendentes=nc.filter(p=>getAlertaGoLive(p).tipo==="pendente");
document.getElementById("alertasGoLive").innerHTML=`
<div class="alert-card">
<div class="alert-card-head vermelho">üö® GO LIVE ATRASADO <span class="badge">${atrasados.length}</span></div>
<div class="alert-card-body">${atrasados.length?atrasados.map(p=>`<div class="alert-proj vermelho" onclick="abrirModal('${p.nome}')">${p.nome}<span class="dias">${getAlertaGoLive(p).dias}d</span></div>`).join(""):'<div class="alert-empty">Nenhum</div>'}</div>
</div>
<div class="alert-card">
<div class="alert-card-head amarelo">‚ö†Ô∏è EM 30 DIAS <span class="badge">${proximos.length}</span></div>
<div class="alert-card-body">${proximos.length?proximos.map(p=>`<div class="alert-proj amarelo" onclick="abrirModal('${p.nome}')">${p.nome}<span class="dias">${getAlertaGoLive(p).dias}d</span></div>`).join(""):'<div class="alert-empty">Nenhum</div>'}</div>
</div>
<div class="alert-card">
<div class="alert-card-head cinza">‚è≥ SEM DATA <span class="badge">${pendentes.length}</span></div>
<div class="alert-card-body">${pendentes.length?pendentes.map(p=>`<div class="alert-proj cinza" onclick="abrirModal('${p.nome}')">${p.nome}</div>`).join(""):'<div class="alert-empty">Nenhum</div>'}</div>
</div>`;
}
function renderAlertasInfra(){
const atrasados=PROJETOS.filter(p=>p.status==="Atrasado");
const emAndamento=PROJETOS.filter(p=>p.status==="Em andamento");
const planejamento=PROJETOS.filter(p=>p.status==="Planejamento");
document.getElementById("alertasInfra").innerHTML=`
<div class="alert-card">
<div class="alert-card-head vermelho">üö® ATRASADO <span class="badge">${atrasados.length}</span></div>
<div class="alert-card-body">${atrasados.length?atrasados.map(p=>`<div class="alert-proj vermelho" onclick="abrirModal('${p.nome}')">${p.nome}</div>`).join(""):'<div class="alert-empty">Nenhum</div>'}</div>
</div>
<div class="alert-card">
<div class="alert-card-head amarelo">‚ö° EM ANDAMENTO <span class="badge">${emAndamento.length}</span></div>
<div class="alert-card-body">${emAndamento.slice(0,6).map(p=>`<div class="alert-proj amarelo" onclick="abrirModal('${p.nome}')">${p.nome}</div>`).join("")}${emAndamento.length>6?`<div class="alert-empty">+${emAndamento.length-6} mais</div>`:""}</div>
</div>
<div class="alert-card">
<div class="alert-card-head roxo">üìã PLANEJAMENTO <span class="badge">${planejamento.length}</span></div>
<div class="alert-card-body">${planejamento.length?planejamento.map(p=>`<div class="alert-proj roxo" onclick="abrirModal('${p.nome}')">${p.nome}</div>`).join(""):'<div class="alert-empty">Nenhum</div>'}</div>
</div>`;
}
function renderProjetos(){
const fn=document.getElementById("filtroNome").value.toLowerCase();
const fs=document.getElementById("filtroStatus").value;
const fp=document.getElementById("filtroPrioridade").value;
const fm=document.getElementById("filtroPMO").value;
let pf=PROJETOS.filter(p=>{
if(fn&&!p.nome.toLowerCase().includes(fn))return false;
if(fs&&p.status!==fs)return false;
if(fp&&p.prioridade!==fp)return false;
if(fm&&p.pmo!==fm)return false;
return true;
});
document.getElementById("projetosGrid").innerHTML=pf.map(p=>{
const cor=getCorProgresso(p.progresso);
const al=getAlertaGoLive(p);
const glc=al.tipo==="atrasado"?"atrasado":al.tipo==="proximo"?"proximo":"";
return`<div class="project-card ${cor}" onclick="abrirModal('${p.nome}')">
<div class="project-header"><span class="project-name">${p.nome}</span><span class="priority ${p.prioridade.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}">${p.prioridade}</span></div>
<div class="project-meta"><span>üìç ${p.local}</span><span>üë§ ${p.pmo}</span></div>
<div class="project-phase">${p.fase}</div>
<div class="progress"><div class="progress-header"><span>Progresso</span><strong>${p.progresso}%</strong></div><div class="progress-bar"><div class="progress-fill ${cor}" style="width:${p.progresso}%"></div></div></div>
<div class="project-footer"><span class="status-badge ${getStatusClass(p.status)}">${p.status}</span><span class="go-live-info ${glc}">Go Live: ${formatDate(p.goLive)||"A definir"}</span></div>
</div>`;
}).join("")||'<div class="alert-empty">Nenhum projeto</div>';
}
function filtrarStatus(s){document.getElementById("filtroStatus").value=s;renderProjetos()}
function filtrarPrioridade(p){document.getElementById("filtroPrioridade").value=p;renderProjetos()}
function filtrarPMO(m){document.getElementById("filtroPMO").value=m;renderProjetos()}
function limparFiltros(){["filtroNome","filtroStatus","filtroPrioridade","filtroPMO"].forEach(id=>document.getElementById(id).value="");renderProjetos()}
function abrirModal(nome){
const p=PROJETOS.find(x=>x.nome===nome);if(!p)return;
const al=getAlertaGoLive(p);
document.getElementById("modalTitle").textContent="üìã "+p.nome;
document.getElementById("modalBody").innerHTML=`
<div class="modal-info">
<div class="modal-info-item"><span class="label">Status</span><div class="value">${p.status}</div></div>
<div class="modal-info-item"><span class="label">Fase</span><div class="value">${p.fase}</div></div>
<div class="modal-info-item"><span class="label">Progresso</span><div class="value">${p.progresso}%</div></div>
<div class="modal-info-item"><span class="label">Prioridade</span><div class="value">${p.prioridade}</div></div>
<div class="modal-info-item"><span class="label">PMO</span><div class="value">${p.pmo}</div></div>
<div class="modal-info-item"><span class="label">Local</span><div class="value">${p.local}</div></div>
<div class="modal-info-item"><span class="label">Go Live</span><div class="value">${formatDate(p.goLive)||"A definir"}</div></div>
<div class="modal-info-item"><span class="label">Dias</span><div class="value">${al.dias!==null?al.dias+"d":"-"}</div></div>
</div>
<div class="modal-obs"><strong>üìù Observa√ß√µes</strong><p>${p.obs}</p></div>`;
document.getElementById("modal").classList.add("show");
}
function fecharModal(){document.getElementById("modal").classList.remove("show")}
renderKPIs();renderPrioridade();renderPMO();renderAlertasGoLive();renderAlertasInfra();renderProjetos();
document.addEventListener("keydown",e=>{if(e.key==="Escape")fecharModal()});
</script>
</body>
</html>
