<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Dashboard de Infraestrutura v8</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;padding:20px}
.container{max-width:1400px;margin:0 auto;background:#fff;border-radius:16px;box-shadow:0 10px 40px rgba(0,0,0,.2);overflow:hidden}
.header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:20px 25px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px}
.header-left h1{font-size:1.4em;margin-bottom:5px}
.header-left p{opacity:.9;font-size:.85em}
.nav-buttons{display:flex;gap:8px;flex-wrap:wrap}
.nav-btn{padding:9px 16px;border:none;border-radius:6px;cursor:pointer;font-weight:600;font-size:.85em;text-decoration:none;color:#fff}
.nav-btn.blue{background:#3b82f6}
.nav-btn.purple{background:#8b5cf6}
.nav-btn.green{background:#22c55e}
.content{padding:20px 25px}
.toggle{display:flex;justify-content:center;margin-bottom:18px}
.toggle button{padding:11px 28px;border:2px solid #667eea;background:#fff;color:#667eea;font-weight:600;cursor:pointer;font-size:.95em}
.toggle button:first-child{border-radius:25px 0 0 25px}
.toggle button:last-child{border-radius:0 25px 25px 0;border-left:none}
.toggle button.active{background:#667eea;color:#fff}
.filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;margin-bottom:18px;padding:15px;background:#f8fafc;border-radius:10px;align-items:end}
.filter-group label{display:block;font-size:.78em;color:#64748b;margin-bottom:4px;font-weight:500}
.filter-group input,.filter-group select{width:100%;padding:8px 10px;border:1px solid #e2e8f0;border-radius:6px;font-size:.9em}
.kpis{display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:12px;margin-bottom:20px}
.kpi{text-align:center;padding:15px 10px;background:#fff;border-radius:10px;border:1px solid #e2e8f0;border-top:4px solid #e2e8f0;cursor:pointer;transition:all .2s}
.kpi:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.1)}
.kpi.verde{border-top-color:#22c55e}
.kpi.amarelo{border-top-color:#f59e0b}
.kpi.vermelho{border-top-color:#ef4444}
.kpi.azul{border-top-color:#3b82f6}
.kpi.roxo{border-top-color:#8b5cf6}
.kpi .num{font-size:1.8em;font-weight:700;color:#1e293b}
.kpi .lbl{font-size:.8em;color:#64748b}
.phases{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:15px}
.phase-card{background:#fff;border:1px solid #e2e8f0;border-radius:10px;padding:15px;border-top:4px solid #e2e8f0}
.phase-card.verde{border-top-color:#22c55e}
.phase-card.amarelo{border-top-color:#f59e0b}
.phase-card.vermelho{border-top-color:#ef4444}
.phase-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:10px}
.phase-title{font-weight:700;color:#1e293b;font-size:.9em}
.phase-count{font-size:.8em;color:#64748b}
.phase-percent{font-size:1.4em;font-weight:700}
.phase-percent.verde{color:#22c55e}
.phase-percent.amarelo{color:#f59e0b}
.phase-percent.vermelho{color:#ef4444}
.phase-bar{height:8px;background:#e2e8f0;border-radius:4px;margin-bottom:10px;overflow:hidden}
.phase-bar-fill{height:100%;border-radius:4px}
.phase-bar-fill.verde{background:#22c55e}
.phase-bar-fill.amarelo{background:#f59e0b}
.phase-bar-fill.vermelho{background:#ef4444}
.phase-projects{display:flex;flex-wrap:wrap;gap:5px}
.badge{background:#e0e7ff;color:#4338ca;padding:4px 10px;border-radius:12px;font-size:.75em;font-weight:600;cursor:pointer;transition:all .2s}
.badge:hover{background:#4338ca;color:#fff}
.badge.critico{background:#fee2e2;color:#dc2626}
.badge.critico:hover{background:#dc2626;color:#fff}
.projects{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:15px}
.project-card{background:#fff;border:1px solid #e2e8f0;border-radius:10px;padding:15px;cursor:pointer;transition:all .2s;border-left:4px solid #e2e8f0}
.project-card:hover{box-shadow:0 5px 20px rgba(0,0,0,.1);transform:translateY(-2px)}
.project-card.verde{border-left-color:#22c55e}
.project-card.amarelo{border-left-color:#f59e0b}
.project-card.vermelho{border-left-color:#ef4444}
.project-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:8px}
.project-name{font-weight:700;color:#1e293b;font-size:1.05em}
.priority{padding:3px 8px;border-radius:4px;font-size:.7em;font-weight:700}
.priority.alta{background:#fee2e2;color:#dc2626}
.priority.media,.priority.m√©dia{background:#fef3c7;color:#d97706}
.priority.baixa{background:#dcfce7;color:#16a34a}
.project-meta{display:flex;flex-wrap:wrap;gap:12px;font-size:.82em;color:#64748b;margin-bottom:8px}
.project-phase{background:#eff6ff;color:#1d4ed8;padding:5px 10px;border-radius:6px;font-size:.8em;margin-bottom:8px}
.progress{margin-bottom:10px}
.progress-header{display:flex;justify-content:space-between;font-size:.85em;margin-bottom:4px}
.progress-bar{height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}
.progress-fill{height:100%;border-radius:3px}
.progress-fill.verde{background:#22c55e}
.progress-fill.amarelo{background:#f59e0b}
.progress-fill.vermelho{background:#ef4444}
.project-footer{display:flex;justify-content:space-between;align-items:center}
.status-badge{padding:4px 10px;border-radius:5px;font-size:.75em;font-weight:600}
.status-badge.concluido,.status-badge.conclu√≠do{background:#dcfce7;color:#166534}
.status-badge.em-andamento{background:#dbeafe;color:#1e40af}
.status-badge.planejamento{background:#f3e8ff;color:#7c3aed}
.status-badge.atrasado{background:#fee2e2;color:#991b1b}
.empty{text-align:center;padding:40px;color:#64748b}
.modal-bg{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1000;justify-content:center;align-items:center;padding:20px}
.modal-bg.show{display:flex}
.modal{background:#fff;border-radius:12px;max-width:700px;width:100%;max-height:85vh;overflow:hidden}
.modal-head{background:#667eea;color:#fff;padding:15px 20px;display:flex;justify-content:space-between;align-items:center}
.modal-head h2{font-size:1.1em}
.modal-close{background:rgba(255,255,255,.2);border:none;color:#fff;width:32px;height:32px;border-radius:50%;cursor:pointer;font-size:1.3em}
.modal-body{padding:20px;max-height:calc(85vh - 60px);overflow-y:auto}
.modal-info{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-bottom:15px}
.modal-info-item .label{color:#64748b;font-size:.8em}
.modal-info-item .value{color:#1e293b;font-weight:600}
.activity-list{display:flex;flex-direction:column;gap:8px}
.activity{display:flex;justify-content:space-between;align-items:center;padding:10px;background:#f8fafc;border-radius:8px}
.activity-name{font-weight:600;color:#1e293b;font-size:.9em}
.activity-fase{font-size:.8em;color:#64748b}
.footer{text-align:center;padding:15px;background:#f8fafc;border-top:1px solid #e2e8f0;font-size:.8em;color:#64748b}
</style>
</head>
<body>
<div class="container">
<header class="header">
<div class="header-left">
<h1>üìä Dashboard de Infraestrutura v8</h1>
<p>Gest√£o de Projetos | Invent Corp | <span id="dataAtual"></span></p>
</div>
<nav class="nav-buttons">
<a href="view-projetos.html" class="nav-btn blue">üìä Alertas</a>
<a href="view-detalhada.html" class="nav-btn purple">üìã Detalhada</a>
<a href="admin.html" class="nav-btn green">‚öôÔ∏è Admin</a>
</nav>
</header>
<main class="content">
<div class="toggle">
<button class="active" id="btnMacro" onclick="setView('macro')">üìä Vis√£o Macro (Fases)</button>
<button id="btnMicro" onclick="setView('micro')">üìã Vis√£o Micro (Projetos)</button>
</div>
<div class="filters">
<div class="filter-group"><label>üîç Buscar</label><input type="text" id="search" placeholder="Nome do projeto..." oninput="render()"></div>
<div class="filter-group"><label>üìä Status</label><select id="filterStatus" onchange="render()"><option value="">Todos</option><option value="Conclu√≠do">Conclu√≠do</option><option value="Em andamento">Em andamento</option><option value="Planejamento">Planejamento</option><option value="Atrasado">Atrasado</option></select></div>
<div class="filter-group"><label>‚ö° Prioridade</label><select id="filterPrior" onchange="render()"><option value="">Todas</option><option value="Alta">Alta</option><option value="M√©dia">M√©dia</option><option value="Baixa">Baixa</option></select></div>
<div class="filter-group"><label>üë§ PMO</label><select id="filterResp" onchange="render()"><option value="">Todos</option><option>ALEX</option><option>ANDERSON</option><option>F√ÅBIO</option><option>GIOVANNI</option><option>LEANDRO</option><option>VINICIUS</option></select></div>
</div>
<div class="kpis" id="kpis"></div>
<div class="phases" id="macroView"></div>
<div class="projects" id="microView" style="display:none"></div>
</main>
<footer class="footer">Dashboard v8 | Invent Corp | 30 Projetos | <span id="ts"></span></footer>
</div>
<div class="modal-bg" id="modal" onclick="fecharModal()">
<div class="modal" onclick="event.stopPropagation()">
<div class="modal-head"><h2 id="modalTitle">Projeto</h2><button class="modal-close" onclick="fecharModal()">√ó</button></div>
<div class="modal-body" id="modalBody"></div>
</div>
</div>
<script>
const PROJETOS=[
{nome:"BARBECUE B2B",local:"S√£o Paulo - SP",resp:"ALEX",prioridade:"Alta",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"BELEZA",local:"S√£o Paulo - SP",resp:"ANDERSON",prioridade:"M√©dia",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"BETA",local:"Rio de Janeiro - RJ",resp:"ANDERSON",prioridade:"Alta",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"BETA ESTEIO",local:"Esteio - RS",resp:"ANDERSON",prioridade:"M√©dia",status:"Planejamento",fase:"1. Inicia√ß√£o",progresso:5},
{nome:"BP",local:"S√£o Paulo - SP",resp:"GIOVANNI",prioridade:"M√©dia",status:"Em andamento",fase:"2. Planejamento",progresso:15},
{nome:"BR",local:"Jaboat√£o - PE",resp:"F√ÅBIO",prioridade:"Alta",status:"Planejamento",fase:"1. Inicia√ß√£o",progresso:5},
{nome:"CANDELABRIA",local:"Candel√°ria - RS",resp:"ALEX",prioridade:"M√©dia",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"CDSK",local:"S√£o Paulo - SP",resp:"VINICIUS",prioridade:"Alta",status:"Em andamento",fase:"6. Deploy",progresso:75},
{nome:"COUGAR",local:"S√£o Paulo - SP",resp:"LEANDRO",prioridade:"Alta",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"CRISTAL MG RETROFIT",local:"Belo Horizonte - MG",resp:"GIOVANNI",prioridade:"Alta",status:"Em andamento",fase:"2. Planejamento",progresso:15},
{nome:"DIA",local:"S√£o Paulo - SP",resp:"ANDERSON",prioridade:"Alta",status:"Atrasado",fase:"3. Provisionamento",progresso:30},
{nome:"DIAMANTE",local:"Curitiba - PR",resp:"F√ÅBIO",prioridade:"M√©dia",status:"Planejamento",fase:"1. Inicia√ß√£o",progresso:0},
{nome:"ELETRO",local:"S√£o Paulo - SP",resp:"GIOVANNI",prioridade:"M√©dia",status:"Em andamento",fase:"4. Implementa√ß√£o",progresso:35},
{nome:"ESPERAN√áA",local:"Belo Horizonte - MG",resp:"VINICIUS",prioridade:"M√©dia",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"FLOWER",local:"S√£o Paulo - SP",resp:"ANDERSON",prioridade:"Baixa",status:"Em andamento",fase:"2. Planejamento",progresso:10},
{nome:"GAVI√ÉO",local:"Fortaleza - CE",resp:"F√ÅBIO",prioridade:"Alta",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"MKT CHILE",local:"Santiago - Chile",resp:"ALEX",prioridade:"M√©dia",status:"Planejamento",fase:"1. Inicia√ß√£o",progresso:0},
{nome:"MKT PERU",local:"Lima - Peru",resp:"ALEX",prioridade:"M√©dia",status:"Planejamento",fase:"1. Inicia√ß√£o",progresso:0},
{nome:"MASTER",local:"S√£o Paulo - SP",resp:"LEANDRO",prioridade:"Alta",status:"Planejamento",fase:"1. Inicia√ß√£o",progresso:0},
{nome:"NAVEPARK",local:"Curitiba - PR",resp:"ANDERSON",prioridade:"M√©dia",status:"Em andamento",fase:"3. Provisionamento",progresso:25},
{nome:"OCTOPUS MS",local:"Campo Grande - MS",resp:"ALEX",prioridade:"M√©dia",status:"Em andamento",fase:"4. Implementa√ß√£o",progresso:40},
{nome:"OCTOPUS SC",local:"Florian√≥polis - SC",resp:"ALEX",prioridade:"M√©dia",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"OPTIMUS PRIME",local:"S√£o Paulo - SP",resp:"GIOVANNI",prioridade:"Alta",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"PBL GUATEMALA",local:"Guatemala City",resp:"F√ÅBIO",prioridade:"Alta",status:"Em andamento",fase:"4. Implementa√ß√£o",progresso:45},
{nome:"PROMO B2B CD GRU",local:"Guarulhos - SP",resp:"LEANDRO",prioridade:"Alta",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"PTL SP",local:"S√£o Paulo - SP",resp:"VINICIUS",prioridade:"M√©dia",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"REISADO",local:"Recife - PE",resp:"F√ÅBIO",prioridade:"M√©dia",status:"Conclu√≠do",fase:"8. Encerramento",progresso:100},
{nome:"REVERSE",local:"S√£o Paulo - SP",resp:"ALEX",prioridade:"Alta",status:"Em andamento",fase:"5. Testes",progresso:55},
{nome:"SUPER DIVINOPOLIS",local:"Divin√≥polis - MG",resp:"GIOVANNI",prioridade:"M√©dia",status:"Em andamento",fase:"4. Implementa√ß√£o",progresso:50},
{nome:"TITANIO",local:"S√£o Paulo - SP",resp:"ALEX",prioridade:"Alta",status:"Em andamento",fase:"7. Estabiliza√ß√£o",progresso:80}
];
const FASES=["1. Inicia√ß√£o","2. Planejamento","3. Provisionamento","4. Implementa√ß√£o","5. Testes","6. Deploy","7. Estabiliza√ß√£o","8. Encerramento"];
let view="macro";
const hoje=new Date();hoje.setHours(0,0,0,0);
function getCor(p){return p>=80?"verde":p>=40?"amarelo":"vermelho"}
function getStatusClass(s){return s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ /g,"-")}
function isCritico(p){return p.status==="Atrasado"||p.prioridade==="Alta"}
function getProjetosFiltrados(){
const s=document.getElementById("search").value.toLowerCase();
const st=document.getElementById("filterStatus").value;
const pr=document.getElementById("filterPrior").value;
const re=document.getElementById("filterResp").value;
return PROJETOS.filter(p=>(!s||p.nome.toLowerCase().includes(s))&&(!st||p.status===st)&&(!pr||p.prioridade===pr)&&(!re||p.resp===re));
}
function renderKPIs(){
const ps=getProjetosFiltrados();
const t=ps.length;
const c=ps.filter(p=>p.status==="Conclu√≠do").length;
const e=ps.filter(p=>p.status==="Em andamento").length;
const pl=ps.filter(p=>p.status==="Planejamento").length;
const a=ps.filter(p=>p.status==="Atrasado").length;
document.getElementById("kpis").innerHTML=`
<div class="kpi azul" onclick="filtrarStatus('')"><div class="num">${t}</div><div class="lbl">Total</div></div>
<div class="kpi verde" onclick="filtrarStatus('Conclu√≠do')"><div class="num">${c}</div><div class="lbl">Conclu√≠dos</div></div>
<div class="kpi amarelo" onclick="filtrarStatus('Em andamento')"><div class="num">${e}</div><div class="lbl">Em Andamento</div></div>
<div class="kpi roxo" onclick="filtrarStatus('Planejamento')"><div class="num">${pl}</div><div class="lbl">Planejamento</div></div>
<div class="kpi vermelho" onclick="filtrarStatus('Atrasado')"><div class="num">${a}</div><div class="lbl">Atrasados</div></div>`;
}
function filtrarStatus(s){document.getElementById("filterStatus").value=s;render()}
function setView(v){
view=v;
document.getElementById("btnMacro").classList.toggle("active",v==="macro");
document.getElementById("btnMicro").classList.toggle("active",v==="micro");
document.getElementById("macroView").style.display=v==="macro"?"grid":"none";
document.getElementById("microView").style.display=v==="micro"?"grid":"none";
render();
}
function render(){renderKPIs();if(view==="macro")renderMacro();else renderMicro();document.getElementById("ts").textContent="Atualizado: "+new Date().toLocaleString("pt-BR")}
function renderMacro(){
const c=document.getElementById("macroView");
const ps=getProjetosFiltrados();
const pf={};FASES.forEach(f=>pf[f]=[]);
ps.forEach(p=>{pf[p.fase].push(p)});
let h="";
FASES.forEach(f=>{
const pjs=pf[f];if(!pjs.length)return;
const avgProg=Math.round(pjs.reduce((a,p)=>a+p.progresso,0)/pjs.length);
const cor=getCor(avgProg);
h+=`<div class="phase-card ${cor}"><div class="phase-header"><div><span class="phase-title">${f}</span><br><span class="phase-count">${pjs.length} projeto${pjs.length>1?"s":""}</span></div><span class="phase-percent ${cor}">${avgProg}%</span></div><div class="phase-bar"><div class="phase-bar-fill ${cor}" style="width:${avgProg}%"></div></div><div class="phase-projects">${pjs.map(p=>`<span class="badge ${isCritico(p)?"critico":""}" onclick="abrirModal('${p.nome}')">${p.nome}</span>`).join("")}</div></div>`;
});
c.innerHTML=h||'<div class="empty">Nenhum projeto encontrado</div>';
}
function renderMicro(){
const c=document.getElementById("microView");
const ps=getProjetosFiltrados();
if(!ps.length){c.innerHTML='<div class="empty">Nenhum projeto encontrado</div>';return}
c.innerHTML=ps.map(p=>{
const cor=getCor(p.progresso);
return`<div class="project-card ${cor}" onclick="abrirModal('${p.nome}')"><div class="project-header"><span class="project-name">${p.nome}</span><span class="priority ${p.prioridade.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}">${p.prioridade}</span></div><div class="project-meta"><span>üìç ${p.local}</span><span>üë§ ${p.resp}</span></div><div class="project-phase">üìò ${p.fase}</div><div class="progress"><div class="progress-header"><span>Progresso</span><span>${p.progresso}%</span></div><div class="progress-bar"><div class="progress-fill ${cor}" style="width:${p.progresso}%"></div></div></div><div class="project-footer"><span class="status-badge ${getStatusClass(p.status)}">${p.status}</span></div></div>`;
}).join("");
}
function abrirModal(nome){
const p=PROJETOS.find(x=>x.nome===nome);if(!p)return;
document.getElementById("modalTitle").textContent="üìã "+nome;
document.getElementById("modalBody").innerHTML=`
<div class="modal-info">
<div class="modal-info-item"><span class="label">Status</span><div class="value">${p.status}</div></div>
<div class="modal-info-item"><span class="label">Fase Atual</span><div class="value">${p.fase}</div></div>
<div class="modal-info-item"><span class="label">Progresso</span><div class="value">${p.progresso}%</div></div>
<div class="modal-info-item"><span class="label">Prioridade</span><div class="value">${p.prioridade}</div></div>
<div class="modal-info-item"><span class="label">PMO</span><div class="value">${p.resp}</div></div>
<div class="modal-info-item"><span class="label">Local</span><div class="value">${p.local}</div></div>
</div>`;
document.getElementById("modal").classList.add("show");
}
function fecharModal(){document.getElementById("modal").classList.remove("show")}
document.getElementById("dataAtual").textContent=hoje.toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"});
render();
document.addEventListener("keydown",e=>{if(e.key==="Escape")fecharModal()});
</script>
</body>
</html>
